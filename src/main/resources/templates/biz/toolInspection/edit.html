<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head th:include="include :: header"></head>
<body class="gray-bg">
<div class="wrapper wrapper-content ">
	<div class="ibox float-e-margins">
		<div class="ibox-content">
			<div class="row">
				<form class="form-horizontal m-t" id="toolInspectionForm">
					<fieldset id="inspectionField">
					<div class="col-md-12 form-inline">
						<div class="form-group col-md-4">
							<div class="input-group">
								<div class="input-group-addon">白光照度：</div>
								<input type="text" class="form-control" id="luminanceMeasure" name="luminanceMeasure" th:value="${toolInspection.luminanceMeasure}">
								<div class="input-group-addon">LX</div>
							</div>
						</div>
						<div class="form-group  col-md-4">
							<div class="input-group">
								<div class="input-group-addon">温度：</div>
								<input id="temperature" name="temperature" class="form-control" type="text" th:value="${toolInspection.temperature}">
								<div class="input-group-addon">°C</div>
							</div>
						</div>
						<div class="form-group col-md-4">
							<div class="input-group">
								<div class="input-group-addon">湿度：</div>
								<input id="humidity" name="humidity" class="form-control" type="text" th:value="${toolInspection.humidity}">
								<div class="input-group-addon">%</div>
							</div>
						</div>
					</div>
					<div class="radio col-md-6">
						<label class="radio-inline">
							<span style="margin-right: 20px">样板：</span>
							<input id="templet1" name="templet"  type="radio" value="1" th:checked="${toolInspection.templet==1}">合格
						</label>
						<label class="radio-inline">
							<input id="templet2" name="templet"  type="radio" value="0" th:checked="${toolInspection.templet==0}">不合格
						</label>
					</div>

					<div class="radio col-md-6">
						<label class="radio-inline">
							<span style="margin-right: 20px">通针：</span>
							<input id="nozzleCleaner1" name="nozzleCleaner"  type="radio" value="1" th:checked="${toolInspection.nozzleCleaner==1}">合格
						</label>
						<label class="radio-inline">
							<input id="nozzleCleaner2" name="nozzleCleaner"  type="radio" value="0" th:checked="${toolInspection.nozzleCleaner==0}">不合格
						</label>
					</div>
					<div class="radio col-md-6">
						<label class="radio-inline">
							<span style="margin-right: 20px">硅油：</span>
							<input id="siliconeOil1" name="siliconeOil"  type="radio" value="1" th:checked="${toolInspection.siliconeOil==1}">合格
						</label>
						<label class="radio-inline">
							<input id="siliconeOil2" name="siliconeOil"  type="radio" value="1"th:checked="${toolInspection.siliconeOil==0}">不合格
						</label>
					</div>
					<div class="radio col-md-6">
						<label class="radio-inline">
							<span style="margin-right: 20px">硅脂：</span>
							<input id="siliconeGrease1" name="siliconeGrease"  type="radio" value="1" th:checked="${toolInspection.siliconeGrease==1}">合格
						</label>
						<label class="radio-inline">
							<input id="siliconeGrease2" name="siliconeGrease"  type="radio" value="0" th:checked="${toolInspection.siliconeGrease==0}">不合格
						</label>
					</div>
					<div class="form-group" style="margin:15px 0px 0px 5px" >
						<h4 class="col-sm-2 text-left">力矩扳手:</h4>
						<label class="col-sm-2 control-label">检视情况</label>
						<div class="col-sm-3">
							<select id="wench" name="wench" class="form-control" >
								<option value="1" th:selected="${toolInspection.wench==1}">全部合格</option>
								<option value="2" th:selected="${toolInspection.wench==2}">部分合格</option>
								<option value="3" th:selected="${toolInspection.wench==3}">全不合格</option>
							</select>
						</div>
					</div>
					<div class="col-sm-12" id="wenchAdd">
						<div style="float:left;margin:0px 0px 0px 5px">
							<button type="button" class="btn btn-sm" id="addWench"  style="color:#008000;background-color:#efefef;font-weight:bold;">
								<span class="glyphicon glyphicon-plus"></span>
							</button>
							<button type="button" class="btn btn-sm" id="delWench"  style="color:#800109;background-color:#efefef;font-weight:bold;">
								<span class="glyphicon glyphicon-minus"></span>
							</button>
						</div>
					</div>
					<table class="table table-bordered table-striped table-hover" id="wenchTable"   data-mobile-responsive="true" ></table>

					<div class="form-group" style="margin:10px 0px 0px 5px ">
						<h4 class="col-sm-2 text-left">其他工具:</h4>
						<label class="col-sm-2 control-label">检视情况</label>
						<div class="col-sm-3">
							<select id="otherTool" name="otherTool" class="form-control" >
								<option value="1" th:selected="${toolInspection.otherTool==1}">全部合格</option>
								<option value="2" th:selected="${toolInspection.otherTool==2}">部分合格</option>
								<option value="3" th:selected="${toolInspection.otherTool==3}">全不合格</option>
							</select>
						</div>
					</div>
					<div class="col-sm-12" id="toolAdd">
						<div style="float:left;margin: 0px 0px 0px 5px">
							<button type="button" class="btn btn-sm" id="addTool"  style="color:#008000;background-color:#efefef;font-weight:bold;">
								<span class="glyphicon glyphicon-plus"></span>
							</button>
							<button type="button" class="btn btn-sm" id="delTool"  style="color:#800109;background-color:#efefef;font-weight:bold;">
								<span class="glyphicon glyphicon-minus"></span>
							</button>
						</div>
					</div>
					<table class="table table-bordered table-striped table-hover" id="otherToolTable"   data-mobile-responsive="true" ></table>
					</fieldset>
					<div class="col-sm-12 form-inline">
						<div class="form-group col-sm-3 " shiro:hasAnyRoles="role:admin,role:gangmaster">
							<label class="control-label">工长：</label>
							<input id="gangmasterName" name="gangmasterName" class="form-control" type="text" th:value="${toolInspection.gangmasterName}?:${user.name}">
							<input id="gangmasterNo" name="gangmasterNo" class="form-control"type="hidden" th:value="${toolInspection.gangmasterNo}?:${user.username}">
						</div>
						<div class="form-group col-sm-3 " shiro:hasAnyRoles="role:admin,role:gangmaster">
							<label class="control-label">工长检视意见:</label>
							<select id="gangmasterAudit" name="gangmasterAudit" class="form-control " th:value="${toolInspection.gangmasterAudit}">
								<option value="" th:selected="${toolInspection.gangmasterAudit ==''}">请选择</option>
								<option value="1" th:selected="${toolInspection.gangmasterAudit ==1}">同意开工</option>
								<option value="0" th:selected="${toolInspection.gangmasterAudit ==0}">退回</option>
							</select>
						</div>
					</div>

					<input id="taskId" name="taskId" class="form-control" type="hidden" th:value="${toolInspection.taskId}">
					<input id="taskName" name="taskName" class="form-control" type="hidden" th:value="${toolInspection.taskName}">
					<input id="processInstanceId" name="processInstanceId" class="form-control" type="hidden" th:value="${toolInspection.processInstanceId}">
					<input id="taskPass" name="taskPass" class="hidden">
					<input id="id" name="id" class="form-control" type="hidden" th:value="${toolInspection.id}">
					<input id="fixWorkerNo" name="fixWorkerNo" class="form-control" type="hidden" th:value="${toolInspection.fixWorkerNo}?:${user.username}">
					<input id="fixWorkerName" name="fixWorkerName" class="form-control" type="hidden"th:value="${toolInspection.fixWorkerName}?:${user.name}">
					<input id="permissionsOpinion" name="permissionsOpinion" class="form-control" type="hidden">
					<input id="returnOpinion" name="returnOpinion" class="form-control" type="hidden">
					<input id="createTime" name="createTime" class="form-control" type="hidden">
					<input id="updateTime" name="updateTime" class="form-control" type="hidden">
					<div class="form-group m-t-md">
						<div class="col-sm-6">
							<button type="button" class="btn btn-primary pull-right" id="submit1" onclick="$('#taskPass').val('1');save('sign')">签字提交</button>
						</div>
						<div class="col-sm-6 " id="black">
							<button type="button" class="btn btn-primary" onclick="$('#taskPass').val('0');save('sign')">退回</button>
						</div>
						<div class="col-sm-6">
							<button type="button" class="btn btn-primary" id="submit2" onclick="save('save')">保存</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
<div th:include="include::footer"></div>

<div>
	<script type="text/javascript">
        var gangmaster=false;
	</script>
</div>
<div shiro:hasAnyRoles="role:gangmaster">
	<script type="text/javascript">
        gangmaster = true;
	</script>
</div>
<script type="text/javascript" src="/js/appjs/biz/toolInspection/edit.js" >
</script>
<script type="text/javascript" src="/js/appjs/biz/toolInspection/wenchTable.js">
</script>
<script type="text/javascript" src="/js/appjs/biz/toolInspection/otherToolTable.js">
</script>
<script th:inline="javascript">
    var currentUserName=[[${user.name}]];
    var currentUserNameNo=[[${user.username}]];
    var wenchVal=[[${toolInspection.wench}]];
    var otherToolVal=[[${toolInspection.otherTool}]];
</script>
</body>
</html>
