<!DOCTYPE html>
<html lang="zh_CN" xmlns:th="http://www.thymeleaf.org"
	xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<meta charset="utf-8">
<head th:include="include :: header"></head>
<body class="gray-bg">
	<div class="wrapper wrapper-content ">
		<div class="row">
			<div class="col-sm-3">
				<div class="ibox ibox-body">
					<div class="ibox-title">
						<h5>选择部门</h5>
					</div>
					<div class="ibox-content">
						<div id="jstree"></div>
					</div>
				</div>
			</div>
			<div class="col-sm-8">
				<div class="ibox">
					<div class="ibox-body">
						<div class="fixed-table-toolbar">
							<div class="columns pull-left">
								<button shiro:hasPermission="sys:user:add" type="button"
									class="btn  btn-primary" onclick="add()">
									<i class="fa fa-plus hidden" aria-hidden="true"></i>添加
								</button>
								<button shiro:hasPermission="sys:user:batchRemove" type="button"
									class="btn  btn-danger" onclick="batchRemove()">
									<i class="fa fa-trash hidden" aria-hidden="true"></i>删除
								</button>
							</div>
							<div class="columns pull-right">
								<button class="btn btn-success" onclick="reLoad()">查询</button>
							</div>

							<div class="columns pull-right col-md-2 nopadding">
								<input id="searchName" type="text" class="form-control"
									placeholder="姓名">
							</div>
						</div>
						<table id="exampleTable" data-mobile-responsive="true">
						</table>
					</div>
				</div>
			</div>
		</div>
		<!--shiro控制bootstraptable行内按钮看见性 来自bootdo的创新方案 -->
		<div>
			<script type="text/javascript">
				var s_edit_h = 'hidden';
				var s_remove_h = 'hidden';
				var s_resetPwd_h = 'hidden';
			</script>
		</div>
		<div shiro:hasPermission="sys:user:edit">
			<script type="text/javascript">
				s_edit_h = '';
			</script>
		</div>
		<div shiro:hasPermission="sys:user:remove">
			<script type="text/javascript">
				var s_remove_h = '';
			</script>
		</div>
		<div shiro:hasPermission="sys:user:resetPwd">
			<script type="text/javascript">
				var s_resetPwd_h = '';
			</script>
		</div>
	</div>

	<!-- 按钮触发模态框 -->
	<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#editModal">
		开始演示模态框
	</button>
	<!-- 模态框（Modal） -->
	<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="mModalLabel"
		 aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title" id="mModalLabel">
						模态框（Modal）标题
					</h4>
				</div>
				<div class="modal-body">

					<div class="wrapper wrapper-content ">
						<div class="row">
							<div class="col-sm-12">
								<div class="ibox float-e-margins">
									<div class="ibox-content">
										<form class="form-horizontal m-t" id="signupForm">
											<input id="userId" name="userId" type="hidden">
											<div class="form-group">
												<label class="col-sm-3 control-label">姓名：</label>
												<div class="col-sm-8">
													<input id="name" name="name" class="form-control" type="text">
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-3 control-label">用户名：</label>
												<div class="col-sm-8">
													<input id="username" name="username" class="form-control"
														   type="text">
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-3 control-label">密码：</label>
												<div class="col-sm-8">
													<input id="password" name="password" class="form-control"
														   type="password">
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-3 control-label">部门：</label>
												<div class="col-sm-8">
													<input id="deptId" name="deptId" class="hidden"> <input
														id="deptName" name="deptName" class="form-control" type="text"
														style="cursor: pointer;" onclick="openDept()"
														readonly="readonly" placeholder="所属部门">
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-3 control-label">E-mail：</label>
												<div class="col-sm-8">
													<input id="email" name="email" class="form-control"
														   type="email">
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-3 control-label">状态:</label>
												<div class="col-sm-8">
													<label class="radio-inline"> <input type="radio"
																						name="status" value="1" /> 正常
													</label> <label class="radio-inline"> <input type="radio"
																								 name="status" value="0" /> 禁用
												</label>
												</div>
											</div>
											<input type="hidden" name="roleIds" id="roleIds">
											<div class="form-group">
												<label class="col-sm-3 control-label">角色</label>
												<div class="col-sm-8">
													<label th:each="role:${roles}" class="checkbox-inline">
														<input name="role" type="checkbox" th:value="${role.roleId}"
															   th:text="${role.roleName}">
													</label>
												</div>
											</div>
										</form>
									</div>
								</div>
							</div>
						</div>

					</div>


				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">关闭
					</button>
					<button type="button" class="btn btn-primary">
						提交
					</button>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal -->
	</div>

	<div th:include="include :: footer"></div>
	<script type="text/javascript" src="/js/appjs/sys/user/user.js"></script>
</body>
</html>